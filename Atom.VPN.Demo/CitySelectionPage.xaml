<Page x:Class="Atom.VPN.Demo.CitySelectionPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Atom.VPN.Demo"
      mc:Ignorable="d" 
      d:DesignHeight="800" d:DesignWidth="460"
      Title="City Selection"
      Background="#FFFFFF">

    <Page.Resources>
        <!-- Font families -->
        <FontFamily x:Key="WorkSansRegular">/Atom.VPN.Demo;component/Resources/font/WorkSans-Regular.ttf#Work Sans</FontFamily>
        <FontFamily x:Key="WorkSansBold">/Atom.VPN.Demo;component/Resources/font/WorkSans-Bold.ttf#Work Sans</FontFamily>
        <FontFamily x:Key="WorkSansMedium">/Atom.VPN.Demo;component/Resources/font/WorkSans-Medium.ttf#Work Sans</FontFamily>
        
        <!-- City item style -->
        <Style x:Key="CityItemStyle" TargetType="Border">
            <Setter Property="Background" Value="#FFFFFF"/>
            <Setter Property="Cursor" Value="Hand"/>
            <EventSetter Event="MouseDown" Handler="CityItem_MouseDown"/>
        </Style>
    </Page.Resources>

    <Grid>
        <!-- Background world map image -->
        <Image Source="/Resources/Images/world_map.png" 
               Stretch="UniformToFill"
               Opacity="0.05"
               Grid.RowSpan="2"/>
               
        <!-- Main content -->
        <Grid Margin="16,16,16,16">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/> <!-- Header -->
                <RowDefinition Height="Auto"/> <!-- Search -->
                <RowDefinition Height="Auto"/> <!-- Recommended Cities label -->
                <RowDefinition Height="Auto"/> <!-- Recommended Cities list -->
                <RowDefinition Height="Auto"/> <!-- All Locations label -->
                <RowDefinition Height="*"/>     <!-- All Cities list -->
            </Grid.RowDefinitions>
            
            <!-- Header with back button and country name -->
            <Grid Grid.Row="0" Margin="0,0,0,20" Width="360" HorizontalAlignment="Center">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button x:Name="BackButton" 
                        Width="32" 
                        Height="32"
                        Background="Transparent"
                        BorderThickness="0"
                        Margin="0,0,14,0"
                        VerticalAlignment="Center"
                        Click="BackButton_Click">
                    <Path Data="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" 
                          Fill="#323438" 
                          Width="22" 
                          Height="22" 
                          Stretch="Uniform"/>
                </Button>
                
                <TextBlock x:Name="CountryNameText"
                           Grid.Column="1" 
                           Text="United States" 
                           FontWeight="Bold"
                           FontFamily="{StaticResource WorkSansBold}"
                           FontSize="24"
                           Foreground="#323438"
                           VerticalAlignment="Center"/>
            </Grid>
            
            <!-- Search box -->
            <Border Grid.Row="1" 
                    Background="White" 
                    CornerRadius="35" 
                    BorderThickness="1"
                    BorderBrush="#EEEEEE"
                    Margin="0,0,0,20"
                    Width="360"
                    Height="54"
                    Padding="16,13,16,13"
                    HorizontalAlignment="Center">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <Path Data="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                          Fill="#AAAAAA" 
                          Width="22" 
                          Height="22"
                          Margin="0,0,15,0"/>
                    
                    <TextBox Grid.Column="1"
                             x:Name="SearchBox"
                             BorderThickness="0"
                             Background="Transparent"
                             Foreground="#666666"
                             FontFamily="{StaticResource WorkSansRegular}"
                             FontSize="16"
                             VerticalAlignment="Center"
                             Text="Search city"
                             Padding="0"
                             VerticalContentAlignment="Center"
                             GotFocus="SearchBox_GotFocus"
                             LostFocus="SearchBox_LostFocus"
                             TextChanged="SearchBox_TextChanged"/>
                </Grid>
            </Border>
            
            <!-- Recommended label -->
            <TextBlock Grid.Row="2" 
                       Text="Recommended" 
                       FontFamily="{StaticResource WorkSansRegular}"
                       FontSize="18" 
                       Foreground="#323438"
                       Margin="0,0,0,10"
                       Width="360"
                       HorizontalAlignment="Center"/>
            
            <!-- Recommended Cities list -->
            <StackPanel Grid.Row="3" x:Name="RecommendedCitiesPanel" Margin="0,0,0,20" HorizontalAlignment="Center">
                <!-- Chicago -->
                <Border Style="{StaticResource CityItemStyle}" 
                        Tag="Chicago"
                        Width="360"
                        Height="56"
                        CornerRadius="12"
                        BorderThickness="1"
                        BorderBrush="#F0F1F3"
                        Padding="15,0,15,0"
                        Margin="0,0,0,12">
                    <Grid VerticalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Text="Chicago" 
                                   FontFamily="{StaticResource WorkSansRegular}"
                                   FontSize="16" 
                                   Foreground="#323438"
                                   VerticalAlignment="Center"/>
                        
                        <Path Grid.Column="1" 
                              Data="M5.58958 11.5886C5.19175 11.5886 4.86652 11.4636 4.6139 11.2134C4.35946 10.9614 4.23223 10.6362 4.23223 10.2378C4.23223 9.8394 4.35763 9.51417 4.60843 9.26209C4.8574 9.00952 5.18446 8.88324 5.58958 8.88324C5.99471 8.88324 6.32176 9.00952 6.57074 9.26209C6.82154 9.51417 6.94694 9.8394 6.94694 10.2378C6.94694 10.6362 6.81971 10.9614 6.56527 11.2134C6.31264 11.4636 5.98742 11.5886 5.58958 11.5886ZM17.2738 11.5886C16.876 11.5886 16.5508 11.4636 16.2981 11.2134C16.0437 10.9614 15.9165 10.6362 15.9165 10.2378C15.9165 9.8394 16.0419 9.51417 16.2927 9.26209C16.5416 9.00952 16.8687 8.88324 17.2738 8.88324C17.679 8.88324 18.006 9.00952 18.255 9.26209C18.5058 9.51417 18.6312 9.8394 18.6312 10.2378C18.6312 10.6362 18.5039 10.9614 18.2495 11.2134C17.9969 11.4636 17.6717 11.5886 17.2738 11.5886Z"
                              Fill="#4CAF50" 
                              Width="20" 
                              Height="20"
                              Stretch="Uniform"
                              VerticalAlignment="Center"/>
                    </Grid>
                </Border>
                
                <!-- Houston -->
                <Border Style="{StaticResource CityItemStyle}" 
                        Tag="Houston"
                        Width="360"
                        Height="56"
                        CornerRadius="12"
                        BorderThickness="1"
                        BorderBrush="#F0F1F3"
                        Padding="15,0,15,0"
                        Margin="0,0,0,12">
                    <Grid VerticalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Text="Houston" 
                                   FontFamily="{StaticResource WorkSansRegular}"
                                   FontSize="16" 
                                   Foreground="#323438"
                                   VerticalAlignment="Center"/>
                        
                        <Path Grid.Column="1" 
                              Data="M5.58958 11.5886C5.19175 11.5886 4.86652 11.4636 4.6139 11.2134C4.35946 10.9614 4.23223 10.6362 4.23223 10.2378C4.23223 9.8394 4.35763 9.51417 4.60843 9.26209C4.8574 9.00952 5.18446 8.88324 5.58958 8.88324C5.99471 8.88324 6.32176 9.00952 6.57074 9.26209C6.82154 9.51417 6.94694 9.8394 6.94694 10.2378C6.94694 10.6362 6.81971 10.9614 6.56527 11.2134C6.31264 11.4636 5.98742 11.5886 5.58958 11.5886ZM17.2738 11.5886C16.876 11.5886 16.5508 11.4636 16.2981 11.2134C16.0437 10.9614 15.9165 10.6362 15.9165 10.2378C15.9165 9.8394 16.0419 9.51417 16.2927 9.26209C16.5416 9.00952 16.8687 8.88324 17.2738 8.88324C17.679 8.88324 18.006 9.00952 18.255 9.26209C18.5058 9.51417 18.6312 9.8394 18.6312 10.2378C18.6312 10.6362 18.5039 10.9614 18.2495 11.2134C17.9969 11.4636 17.6717 11.5886 17.2738 11.5886Z"
                              Fill="#4CAF50" 
                              Width="20" 
                              Height="20"
                              Stretch="Uniform"
                              VerticalAlignment="Center"/>
                    </Grid>
                </Border>
            </StackPanel>
            
            <!-- All locations label -->
            <TextBlock Grid.Row="4" 
                       Text="All locations" 
                       FontFamily="{StaticResource WorkSansRegular}"
                       FontSize="18" 
                       Foreground="#323438"
                       Margin="0,0,0,10"
                       Width="360"
                       HorizontalAlignment="Center"/>
            
            <!-- All Cities list -->
            <ScrollViewer Grid.Row="5" VerticalScrollBarVisibility="Auto" HorizontalAlignment="Center">
                <StackPanel x:Name="CitiesPanel" Margin="0,5,0,0" HorizontalAlignment="Center">
                    <!-- Los Angeles -->
                    <Border Style="{StaticResource CityItemStyle}" 
                            Tag="Los Angeles"
                            Width="360"
                            Height="56"
                            CornerRadius="12"
                            BorderThickness="1"
                            BorderBrush="#F0F1F3"
                            Padding="15,0,15,0"
                            Margin="0,0,0,12">
                        <Grid VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Text="Los Angeles" 
                                       FontFamily="{StaticResource WorkSansRegular}"
                                       FontSize="16" 
                                       Foreground="#323438"
                                       VerticalAlignment="Center"/>
                        </Grid>
                    </Border>
                    
                    <!-- New York -->
                    <Border Style="{StaticResource CityItemStyle}" 
                            Tag="New York"
                            Width="360"
                            Height="56"
                            CornerRadius="12"
                            BorderThickness="1"
                            BorderBrush="#F0F1F3"
                            Padding="15,0,15,0"
                            Margin="0,0,0,12">
                        <Grid VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Text="New York" 
                                       FontFamily="{StaticResource WorkSansRegular}"
                                       FontSize="16" 
                                       Foreground="#323438"
                                       VerticalAlignment="Center"/>
                        </Grid>
                    </Border>
                    
                    <!-- San Antonio -->
                    <Border Style="{StaticResource CityItemStyle}" 
                            Tag="San Antonio"
                            Width="360"
                            Height="56"
                            CornerRadius="12"
                            BorderThickness="1"
                            BorderBrush="#F0F1F3"
                            Padding="15,0,15,0"
                            Margin="0,0,0,12">
                        <Grid VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Text="San Antonio" 
                                       FontFamily="{StaticResource WorkSansRegular}"
                                       FontSize="16" 
                                       Foreground="#323438"
                                       VerticalAlignment="Center"/>
                        </Grid>
                    </Border>
                    
                    <!-- Phoenix -->
                    <Border Style="{StaticResource CityItemStyle}" 
                            Tag="Phoenix"
                            Width="360"
                            Height="56"
                            CornerRadius="12"
                            BorderThickness="1"
                            BorderBrush="#F0F1F3"
                            Padding="15,0,15,0"
                            Margin="0,0,0,12">
                        <Grid VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Text="Phoenix" 
                                       FontFamily="{StaticResource WorkSansRegular}"
                                       FontSize="16" 
                                       Foreground="#323438"
                                       VerticalAlignment="Center"/>
                        </Grid>
                    </Border>
                    
                    <!-- South Korea -->
                    <Border Style="{StaticResource CityItemStyle}" 
                            Tag="South Korea"
                            Width="360"
                            Height="56"
                            CornerRadius="12"
                            BorderThickness="1"
                            BorderBrush="#F0F1F3"
                            Padding="15,0,15,0"
                            Margin="0,0,0,12">
                        <Grid VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Text="South Korea" 
                                       FontFamily="{StaticResource WorkSansRegular}"
                                       FontSize="16" 
                                       Foreground="#323438"
                                       VerticalAlignment="Center"/>
                        </Grid>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Page> 