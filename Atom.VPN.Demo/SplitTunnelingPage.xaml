<Page x:Class="Atom.VPN.Demo.SplitTunnelingPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      mc:Ignorable="d"
      d:DesignHeight="1000" d:DesignWidth="460"
      Title="Split tunnelling"
      Background="#FAFAFA">

    <Grid>
        <!-- Background world map image - light version -->
        <Image Source="/Resources/icon/bg-light.svg"
               Stretch="UniformToFill"
               Opacity="0.07"/>

        <Grid Margin="16,40,16,40" VerticalAlignment="Stretch">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header with back button and title -->
            <Grid Grid.Row="0" Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Button x:Name="BackButton"
                        Width="24"
                        Height="24"
                        Background="Transparent"
                        BorderThickness="0"
                        Margin="0,0,14,0"
                        VerticalAlignment="Center"
                        Click="BackButton_Click">
                    <Path Data="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"
                          Fill="#323438"
                          Width="20"
                          Height="20"
                          Stretch="Uniform"/>
                </Button>
                <TextBlock Grid.Column="1"
                           Text="Split tunnelling"
                           FontWeight="Bold"
                           FontSize="20"
                           Foreground="#323438"
                           VerticalAlignment="Center"/>
            </Grid>

            <!-- Split Tunneling Options -->
            <StackPanel Grid.Row="1" Width="408" Margin="0,0,0,16">
                <!-- All apps use the VPN -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="All apps use the VPN" FontSize="16" Foreground="#212121" VerticalAlignment="Center" Margin="16,0,0,0"/>
                        <RadioButton x:Name="AllAppsRadio" Grid.Column="1" GroupName="SplitTunnelingGroup" IsChecked="False" 
                                   VerticalAlignment="Center" Margin="0,0,16,0"
                                   Style="{StaticResource ProtocolRadioButtonStyle}"
                                   Checked="SplitTunnelingOption_Checked" Tag="AllApps"/>
                    </Grid>
                </Border>

                <!-- Do not allow selected app to use the vpn -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Do not allow seleted app to use the vpn" FontSize="16" Foreground="#212121" VerticalAlignment="Center" Margin="16,0,0,0" TextWrapping="Wrap"/>
                        <RadioButton x:Name="DoNotAllowRadio" Grid.Column="1" GroupName="SplitTunnelingGroup" IsChecked="False" 
                                   VerticalAlignment="Center" Margin="0,0,16,0"
                                   Style="{StaticResource ProtocolRadioButtonStyle}"
                                   Checked="SplitTunnelingOption_Checked" Tag="DoNotAllow"/>
                    </Grid>
                </Border>

                <!-- Only allow selected apps to use the VPN -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Only allow selected apps to use the VPN" FontSize="16" Foreground="#212121" VerticalAlignment="Center" Margin="16,0,0,0" TextWrapping="Wrap"/>
                        <RadioButton x:Name="OnlyAllowRadio" Grid.Column="1" GroupName="SplitTunnelingGroup" IsChecked="True" 
                                   VerticalAlignment="Center" Margin="0,0,16,0"
                                   Style="{StaticResource ProtocolRadioButtonStyle}"
                                   Checked="SplitTunnelingOption_Checked" Tag="OnlyAllow"/>
                    </Grid>
                </Border>
            </StackPanel>

            <!-- Add Apps Section -->
            <StackPanel Grid.Row="2" Visibility="{Binding IsAppListVisible}">
                <TextBlock Text="Add Apps" 
                           FontSize="16" 
                           FontWeight="SemiBold" 
                           Foreground="#323438" 
                           Margin="0,0,0,16"/>

                <!-- Chrome -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Image Grid.Column="0" Source="/Resources/icon/chrome.svg" Width="32" Height="32" Margin="16,0,12,0"/>
                        <TextBlock Grid.Column="1" Text="Chrome" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="ChromeButton" Style="{StaticResource AppSelectedButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Chrome"/>
                    </Grid>
                </Border>

                <!-- FireFox -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Image Grid.Column="0" Source="/Resources/icon/firefox.svg" Width="32" Height="32" Margin="16,0,12,0"/>
                        <TextBlock Grid.Column="1" Text="FireFox" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="FirefoxButton" Style="{StaticResource AppAddButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Firefox"/>
                    </Grid>
                </Border>

                <!-- Facebook -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Image Grid.Column="0" Source="/Resources/icon/Facebook.svg" Width="32" Height="32" Margin="16,0,12,0"/>
                        <TextBlock Grid.Column="1" Text="Facebook" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="FacebookButton" Style="{StaticResource AppAddButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Facebook"/>
                    </Grid>
                </Border>

                <!-- Instagram -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Image Grid.Column="0" Source="/Resources/icon/instagram.svg" Width="32" Height="32" Margin="16,0,12,0"/>
                        <TextBlock Grid.Column="1" Text="Instagram" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="InstagramButton" Style="{StaticResource AppAddButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Instagram"/>
                    </Grid>
                </Border>

                <!-- Snapchat -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Image Grid.Column="0" Source="/Resources/icon/snapchat.svg" Width="32" Height="32" Margin="16,0,12,0"/>
                        <TextBlock Grid.Column="1" Text="Snapchat" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="SnapchatButton" Style="{StaticResource AppAddButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Snapchat"/>
                    </Grid>
                </Border>
            </StackPanel>

            <!-- Save Button -->
            <Button Grid.Row="3" 
                    Content="Save" 
                    Margin="0,20,0,0"
                    Height="48"
                    Background="#212121"
                    Foreground="White"
                    FontSize="16"
                    FontWeight="SemiBold"
                    BorderThickness="0"
                    Click="SaveButton_Click">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="24"/>
                    </Style>
                </Button.Resources>
            </Button>
        </Grid>
    </Grid>
</Page> 