<Page x:Class="Atom.VPN.Demo.SplitTunnelingPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      mc:Ignorable="d"
      d:DesignHeight="1000" d:DesignWidth="460"
      Title="Split tunnelling"
      Background="#FAFAFA">

    <Grid>
        <!-- Background world map image - light version -->
        <Image Source="/Resources/icon/bg-light.svg"
               Stretch="UniformToFill"
               Opacity="0.07"/>

        <Grid Margin="16,40,16,40" VerticalAlignment="Stretch">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header with back button and title -->
            <Grid Grid.Row="0" Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Button x:Name="BackButton"
                        Width="24"
                        Height="24"
                        Background="Transparent"
                        BorderThickness="0"
                        Margin="0,0,14,0"
                        VerticalAlignment="Center"
                        Click="BackButton_Click">
                    <Path Data="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"
                          Fill="#323438"
                          Width="20"
                          Height="20"
                          Stretch="Uniform"/>
                </Button>
                <TextBlock Grid.Column="1"
                           Text="Split tunnelling"
                           FontWeight="Bold"
                           FontSize="20"
                           Foreground="#323438"
                           VerticalAlignment="Center"/>
            </Grid>

            <!-- Split Tunneling Options -->
            <StackPanel Grid.Row="1" Width="408" Margin="0,0,0,16">
                <!-- All apps use the VPN -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="All apps use the VPN" FontSize="16" Foreground="#212121" VerticalAlignment="Center" Margin="16,0,0,0"/>
                        <RadioButton x:Name="AllAppsRadio" Grid.Column="1" GroupName="SplitTunnelingGroup" IsChecked="False" 
                                   VerticalAlignment="Center" Margin="0,0,16,0"
                                   Style="{StaticResource ProtocolRadioButtonStyle}"
                                   Checked="SplitTunnelingOption_Checked" Tag="AllApps"/>
                    </Grid>
                </Border>

                <!-- Do not allow selected app to use the vpn -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Do not allow seleted app to use the vpn" FontSize="16" Foreground="#212121" VerticalAlignment="Center" Margin="16,0,0,0" TextWrapping="Wrap"/>
                        <RadioButton x:Name="DoNotAllowRadio" Grid.Column="1" GroupName="SplitTunnelingGroup" IsChecked="False" 
                                   VerticalAlignment="Center" Margin="0,0,16,0"
                                   Style="{StaticResource ProtocolRadioButtonStyle}"
                                   Checked="SplitTunnelingOption_Checked" Tag="DoNotAllow"/>
                    </Grid>
                </Border>

                <!-- Only allow selected apps to use the VPN -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Only allow selected apps to use the VPN" FontSize="16" Foreground="#212121" VerticalAlignment="Center" Margin="16,0,0,0" TextWrapping="Wrap"/>
                        <RadioButton x:Name="OnlyAllowRadio" Grid.Column="1" GroupName="SplitTunnelingGroup" IsChecked="True" 
                                   VerticalAlignment="Center" Margin="0,0,16,0"
                                   Style="{StaticResource ProtocolRadioButtonStyle}"
                                   Checked="SplitTunnelingOption_Checked" Tag="OnlyAllow"/>
                    </Grid>
                </Border>
            </StackPanel>

            <!-- Add Apps Section -->
            <StackPanel Grid.Row="2" Visibility="{Binding IsAppListVisible}">
                <TextBlock Text="Add Apps" 
                           FontSize="16" 
                           FontWeight="SemiBold" 
                           Foreground="#323438" 
                           Margin="0,0,0,16"/>

                <!-- Chrome -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" Width="32" Height="32" Margin="16,0,12,0">
                            <Ellipse Fill="#4285F4"/>
                            <Path Data="M12,20L20.5,10.5H15.5L12,20Z" Fill="White"/>
                        </Grid>
                        <TextBlock Grid.Column="1" Text="Chrome" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="ChromeButton" Style="{StaticResource AppSelectedButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Chrome"/>
                    </Grid>
                </Border>

                <!-- FireFox -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" Width="32" Height="32" Margin="16,0,12,0">
                            <Ellipse Fill="#FF5722"/>
                        </Grid>
                        <TextBlock Grid.Column="1" Text="FireFox" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="FirefoxButton" Style="{StaticResource AppAddButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Firefox"/>
                    </Grid>
                </Border>

                <!-- Facebook -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" Width="32" Height="32" Margin="16,0,12,0">
                            <Ellipse Fill="#1877F2"/>
                            <Path Data="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" 
                                  Fill="White" Stretch="Uniform" Width="16" Height="16"/>
                        </Grid>
                        <TextBlock Grid.Column="1" Text="Facebook" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="FacebookButton" Style="{StaticResource AppAddButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Facebook"/>
                    </Grid>
                </Border>

                <!-- Instagram -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" Width="32" Height="32" Margin="16,0,12,0">
                            <Ellipse Fill="#E1306C"/>
                            <Path Data="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z" 
                                  Fill="White" Stretch="Uniform" Width="16" Height="16"/>
                        </Grid>
                        <TextBlock Grid.Column="1" Text="Instagram" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="InstagramButton" Style="{StaticResource AppAddButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Instagram"/>
                    </Grid>
                </Border>

                <!-- Snapchat -->
                <Border Background="White" CornerRadius="12" Margin="0,0,0,8">
                    <Grid Height="56">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" Width="32" Height="32" Margin="16,0,12,0">
                            <Ellipse Fill="#FFFC00"/>
                            <Path Data="M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M17,12C15.9,12 15,11.1 15,10C15,8.9 15.9,8 17,8C18.1,8 19,8.9 19,10C19,11.1 18.1,12 17,12M12,15C10.9,15 10,14.1 10,13C10,11.9 10.9,11 12,11C13.1,11 14,11.9 14,13C14,14.1 13.1,15 12,15M7,12C5.9,12 5,11.1 5,10C5,8.9 5.9,8 7,8C8.1,8 9,8.9 9,10C9,11.1 8.1,12 7,12Z" 
                                  Fill="Black" Stretch="Uniform" Width="16" Height="16"/>
                        </Grid>
                        <TextBlock Grid.Column="1" Text="Snapchat" FontSize="16" Foreground="#212121" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" x:Name="SnapchatButton" Style="{StaticResource AppAddButtonStyle}" 
                                Margin="0,0,16,0" Click="AppToggle_Click" Tag="Snapchat"/>
                    </Grid>
                </Border>
            </StackPanel>

            <!-- Save Button -->
            <Button Grid.Row="3" 
                    Content="Save" 
                    Margin="0,20,0,0"
                    Height="48"
                    Background="#212121"
                    Foreground="White"
                    FontSize="16"
                    FontWeight="SemiBold"
                    BorderThickness="0"
                    Click="SaveButton_Click">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="24"/>
                    </Style>
                </Button.Resources>
            </Button>
        </Grid>
    </Grid>
</Page> 